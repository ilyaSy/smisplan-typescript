(this["webpackJsonpsmisplan-typescript"]=this["webpackJsonpsmisplan-typescript"]||[]).push([[7],{338:function(e,t,a){"use strict";t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ascend",a=arguments.length>2?arguments[2]:void 0;return function(n,i){var c=a&&"number"===a?+n[e]:n[e],r=a&&"number"===a?+i[e]:i[e];return c<r?"ascend"===t?-1:1:c>r?"ascend"===t?1:-1:0}}},342:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(4),i=a(0),c=a(147),r=a(56),l=a(151),d=a(145),s=a(146),o=a(150),u=a(70),j=function(e){var t=Object(i.useState)([]),a=Object(n.a)(t,2),j=a[0],f=a[1],b=Object(u.b)(),O=b.dictionary,h=b.setDictionary,m=Object(l.a)(),v=m.data,x=m.isError,p=m.isLoading,k=Object(d.a)(),g=k.data,N=k.isError,y=k.isLoading,w=Object(r.b)(),E=Object(i.useCallback)((function(e,t){var a=null===g||void 0===g?void 0:g.find((function(e){return e.id===t}));return a&&"multi-select"===a.type&&O[t]?e.split(",").map((function(e){return O[t][e].text})).join(", "):a&&["select","checkbox"].includes(a.type)&&O[t]&&O[t][e]?O[t][e].text:e}),[g,O]);return Object(i.useEffect)((function(){w(Object(s.c)(e)),w(Object(o.a)(e))}),[e,w]),Object(i.useEffect)((function(){g&&g.filter((function(e){return["select","multi-select","checkbox"].includes(e.type)})).forEach((function(e){return h(e.id,e.validValues)}))}),[g,h]),Object(i.useEffect)((function(){v&&g&&Object.keys(O).length&&f((function(){return v.map((function(e){return Object(c.mapValues)(e,E)}))}))}),[v,g,O,E]),{data:j,isErrorData:x,isLoadingData:p,metadata:g,isErrorMetadata:N,isLoadingMetadata:y}}},375:function(e,t,a){},376:function(e,t,a){e.exports={"detailed-event-info-row":"DataCalendar_detailed-event-info-row__3iXF4","detailed-event-info-headcol":"DataCalendar_detailed-event-info-headcol__1kx2O","detailed-event-info-col":"DataCalendar_detailed-event-info-col__eI6lM"}},387:function(e,t,a){"use strict";a.r(t);var n=a(3),i=a(4),c=a(0),r=a(38),l=a.n(r),d=(a(367),a(388)),s=a(322),o=a(381),u=a(382),j=a(384),f=a(395),b=a(380),O=a(347),h=a(370),m=a(372),v=a(374),x=(a(375),a(7)),p={today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",month:"\u041c\u0435\u0441\u044f\u0446",week:"\u041d\u0435\u0434\u0435\u043b\u044f",day:"\u0414\u0435\u043d\u044c",list:"\u0421\u043f\u0438\u0441\u043e\u043a"},k=function(e){var t=e.dates,a=e.handleDayClick,n=e.handleEventClick,i="dayGridMonth";return/\/calendar\/list/.test(document.location.pathname)&&(i="listWeek"),Object(x.jsx)(b.a,{events:t,eventTimeFormat:{hour:"2-digit",minute:"2-digit"},plugins:[O.b,h.a,m.a,v.a],initialView:i,dateClick:a,eventClick:n,locale:"ru",selectable:!0,weekNumberCalculation:"ISO",weekends:!1,slotMinTime:"08:00:00",headerToolbar:{left:"dayGridMonth,timeGridWeek,timeGridDay,listWeek",center:"title",right:"today prev,next"},buttonText:p})},g=a(152),N=a(342),y=a(338),w=a(25),E=a(376),D=a.n(E);l.a.locale("ru");t.default=function(e){var t=e.mode,a=Object(c.useState)([]),r=Object(i.a)(a,2),b=r[0],O=r[1],h=Object(N.a)(t),m=h.data,v=h.isErrorData,p=h.isLoadingData,E=h.isLoadingMetadata,C=h.isErrorMetadata;Object(c.useEffect)((function(){m&&m.length&&O(m.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{date:new Date("".concat(e.date," ").concat(e.time))})})))}),[m]);var M=function(e){var t=b.filter((function(t){return l()(t.date).format(w.a)===e.dateStr})).sort(Object(y.a)("time","ascend")).map((function(e){return{title:l()(e.date).format(w.c),description:e.result}}));return t.length?Object(x.jsx)(d.b,{dataSource:t,renderItem:function(e){return Object(x.jsx)(d.b.Item,{children:Object(x.jsx)(d.b.Item.Meta,{avatar:Object(x.jsx)(f.a,{}),title:e.title,description:e.description})})}}):"\u041d\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0445 \u0441\u043e\u0432\u0435\u0449\u0430\u043d\u0438\u0439"},S=function(e){var t=b.find((function(t){return l()(e.event.start).toISOString()===l()(t.date).toISOString()&&t.title===e.event.title}));return t?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(o.a,{className:D.a["detailed-event-info-row"],children:[Object(x.jsx)(u.a,{className:D.a["detailed-event-info-headcol"],children:"\u0422\u0435\u043c\u0430"}),Object(x.jsx)(u.a,{className:D.a["detailed-event-info-col"],children:t.title})]}),Object(x.jsxs)(o.a,{className:D.a["detailed-event-info-row"],children:[Object(x.jsx)(u.a,{className:D.a["detailed-event-info-headcol"],children:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439"}),Object(x.jsx)(u.a,{className:D.a["detailed-event-info-col"],children:t.responsible})]}),Object(x.jsxs)(o.a,{className:D.a["detailed-event-info-row"],children:[Object(x.jsx)(u.a,{className:D.a["detailed-event-info-headcol"],children:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438"}),Object(x.jsx)(u.a,{className:D.a["detailed-event-info-col"],children:t.participants})]}),Object(x.jsxs)(o.a,{className:D.a["detailed-event-info-row"],children:[Object(x.jsx)(u.a,{className:D.a["detailed-event-info-headcol"],children:"\u0414\u0430\u0442\u0430"}),Object(x.jsx)(u.a,{className:D.a["detailed-event-info-col"],children:l()(t.date).format(w.b)})]}),Object(x.jsxs)(o.a,{className:D.a["detailed-event-info-row"],children:[Object(x.jsx)(u.a,{className:D.a["detailed-event-info-headcol"],children:"\u0412\u0440\u0435\u043c\u044f"}),Object(x.jsx)(u.a,{className:D.a["detailed-event-info-col"],children:l()(t.date).format(w.c)})]})]}):"\u041d\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0445 \u0441\u043e\u0432\u0435\u0449\u0430\u043d\u0438\u0439"};return p||E?Object(x.jsx)("div",{className:D.a.center,children:Object(x.jsx)(g.a,{})}):!v&&!C||b?b&&Object(x.jsx)(k,{dates:b,handleEventClick:function(e){s.a.info({title:"\u0421\u043e\u0432\u0435\u0449\u0430\u043d\u0438e",content:S(e),width:"600px"})},handleDayClick:function(e){s.a.info({title:"\u0421\u043e\u0432\u0435\u0449\u0430\u043d\u0438\u044f \u0437\u0430 \u0434\u0435\u043d\u044c",content:M(e)})}}):Object(x.jsx)("div",{className:D.a.center,children:Object(x.jsx)(j.a.Title,{level:3,children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445"})})}}}]);
//# sourceMappingURL=7.063248c9.chunk.js.map