(this["webpackJsonpsmisplan-typescript"]=this["webpackJsonpsmisplan-typescript"]||[]).push([[7],{347:function(e,t,a){"use strict";t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ascend",a=arguments.length>2?arguments[2]:void 0;return function(n,i){var c=a&&"number"===a?+n[e]:n[e],r=a&&"number"===a?+i[e]:i[e];return c<r?"ascend"===t?-1:1:c>r?"ascend"===t?1:-1:0}}},351:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(22),i=a(0),c=a(155),r=a(59),l=a(159),d=a(153),s=a(154),o=a(158),u=a(75),j=function(e){var t=Object(i.useState)([]),a=Object(n.a)(t,2),j=a[0],f=a[1],b=Object(u.b)(),O=b.dictionary,m=b.setDictionary,v=Object(l.a)(),h=v.data,p=v.isError,x=v.isLoading,g=Object(d.a)(),N=g.data,k=g.isError,y=g.isLoading,w=Object(r.b)(),E=Object(i.useCallback)((function(e,t){var a=null===N||void 0===N?void 0:N.find((function(e){return e.id===t}));return a&&"multi-select"===a.type&&O[t]?e.split(",").map((function(e){return O[t][e]})).join(", "):a&&"select"===a.type&&O[t]&&O[t][e]?O[t][e]:e}),[N,O]);return Object(i.useEffect)((function(){w(Object(s.c)(e)),w(Object(o.a)(e))}),[e,w]),Object(i.useEffect)((function(){N&&N.filter((function(e){return["select","multi-select"].includes(e.type)})).forEach((function(e){return m(e.id,e.validValues)}))}),[N,m]),Object(i.useEffect)((function(){h&&N&&Object.keys(O).length&&f((function(){return h.map((function(e){return Object(c.mapValues)(e,E)}))}))}),[h,N,O,E]),{data:j,isErrorData:p,isLoadingData:x,metadata:N,isErrorMetadata:k,isLoadingMetadata:y}}},383:function(e,t,a){},384:function(e,t,a){e.exports={"detailed-event-info-row":"DataCalendar_detailed-event-info-row__3iXF4","detailed-event-info-headcol":"DataCalendar_detailed-event-info-headcol__1kx2O","detailed-event-info-col":"DataCalendar_detailed-event-info-col__eI6lM"}},398:function(e,t,a){"use strict";a.r(t);var n=a(33),i=a(22),c=a(0),r=a(39),l=a.n(r),d=(a(378),a(399)),s=a(333),o=a(392),u=a(393),j=a(395),f=a(406),b=a(386),O=a(360),m=a(389),v=a(390),h=a(391),p=(a(383),a(7)),x={today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",month:"\u041c\u0435\u0441\u044f\u0446",week:"\u041d\u0435\u0434\u0435\u043b\u044f",day:"\u0414\u0435\u043d\u044c",list:"\u0421\u043f\u0438\u0441\u043e\u043a"},g=function(e){var t=e.dates,a=e.handleDayClick,n=e.handleEventClick,i="dayGridMonth";return/\/calendar\/list/.test(document.location.pathname)&&(i="listWeek"),Object(p.jsx)(b.a,{events:t,eventTimeFormat:{hour:"2-digit",minute:"2-digit"},plugins:[O.b,m.a,v.a,h.a],initialView:i,dateClick:a,eventClick:n,locale:"ru",selectable:!0,weekNumberCalculation:"ISO",weekends:!1,slotMinTime:"08:00:00",headerToolbar:{left:"dayGridMonth,timeGridWeek,timeGridDay,listWeek",center:"title",right:"today prev,next"},buttonText:x})},N=a(160),k=a(351),y=a(347),w=a(25),E=a(384),D=a.n(E);l.a.locale("ru");t.default=function(e){var t=e.mode,a=Object(c.useState)([]),r=Object(i.a)(a,2),b=r[0],O=r[1],m=Object(k.a)(t),v=m.data,h=m.isErrorData,x=m.isLoadingData,E=m.isLoadingMetadata,C=m.isErrorMetadata;Object(c.useEffect)((function(){v&&v.length&&O(v.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{date:new Date("".concat(e.date," ").concat(e.time))})})))}),[v]);var M=function(e){var t=b.filter((function(t){return l()(t.date).format(w.a)===e.dateStr})).sort(Object(y.a)("time","ascend")).map((function(e){return{title:l()(e.date).format(w.c),description:e.result}}));return t.length?Object(p.jsx)(d.b,{dataSource:t,renderItem:function(e){return Object(p.jsx)(d.b.Item,{children:Object(p.jsx)(d.b.Item.Meta,{avatar:Object(p.jsx)(f.a,{}),title:e.title,description:e.description})})}}):"\u041d\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0445 \u0441\u043e\u0432\u0435\u0449\u0430\u043d\u0438\u0439"},S=function(e){var t=b.find((function(t){return l()(e.event.start).toISOString()===l()(t.date).toISOString()&&t.title===e.event.title}));return t?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(o.a,{className:D.a["detailed-event-info-row"],children:[Object(p.jsx)(u.a,{className:D.a["detailed-event-info-headcol"],children:"\u0422\u0435\u043c\u0430"}),Object(p.jsx)(u.a,{className:D.a["detailed-event-info-col"],children:t.title})]}),Object(p.jsxs)(o.a,{className:D.a["detailed-event-info-row"],children:[Object(p.jsx)(u.a,{className:D.a["detailed-event-info-headcol"],children:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439"}),Object(p.jsx)(u.a,{className:D.a["detailed-event-info-col"],children:t.responsible})]}),Object(p.jsxs)(o.a,{className:D.a["detailed-event-info-row"],children:[Object(p.jsx)(u.a,{className:D.a["detailed-event-info-headcol"],children:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438"}),Object(p.jsx)(u.a,{className:D.a["detailed-event-info-col"],children:t.participants})]}),Object(p.jsxs)(o.a,{className:D.a["detailed-event-info-row"],children:[Object(p.jsx)(u.a,{className:D.a["detailed-event-info-headcol"],children:"\u0414\u0430\u0442\u0430"}),Object(p.jsx)(u.a,{className:D.a["detailed-event-info-col"],children:l()(t.date).format(w.b)})]}),Object(p.jsxs)(o.a,{className:D.a["detailed-event-info-row"],children:[Object(p.jsx)(u.a,{className:D.a["detailed-event-info-headcol"],children:"\u0412\u0440\u0435\u043c\u044f"}),Object(p.jsx)(u.a,{className:D.a["detailed-event-info-col"],children:l()(t.date).format(w.c)})]})]}):"\u041d\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0445 \u0441\u043e\u0432\u0435\u0449\u0430\u043d\u0438\u0439"};return x||E?Object(p.jsx)("div",{className:D.a.center,children:Object(p.jsx)(N.a,{})}):!h&&!C||b?b&&Object(p.jsx)(g,{dates:b,handleEventClick:function(e){s.a.info({title:"\u0421\u043e\u0432\u0435\u0449\u0430\u043d\u0438e",content:S(e),width:"600px"})},handleDayClick:function(e){s.a.info({title:"\u0421\u043e\u0432\u0435\u0449\u0430\u043d\u0438\u044f \u0437\u0430 \u0434\u0435\u043d\u044c",content:M(e)})}}):Object(p.jsx)("div",{className:D.a.center,children:Object(p.jsx)(j.a.Title,{level:3,children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445"})})}}}]);
//# sourceMappingURL=7.05e1812b.chunk.js.map